@import "domain.md"

1. 获取基因列表

> ==GET== {domain}/gene[?key1=value1[&key2=value2]]

|参数|类型|必须/可选|默认|描述|
|-|-|-|-|-|
|Time|int|==必须==|无|时间戳 header.Time|
|page|int|可选|1|当前页|
|list_rows|int|可选|20|每页数量|
|查询条件|string|可选|无|参数与值|


```json {.line-numbers}
{
    "code": 200,
    "msg": "查询成功！",
    "data": {
        "total": 1,
        "list": [
            {
                "gene_id": "",
                "virus_strain_same": "",
                "accession_id": "",
                "data_source": "",
                "related_id": "",
                "lineage": "",
                "nuc_completeness": "",
                "sequence_length": "",
                "sequence_quality": "",
                "quality_assessment": "",
                "host": "",
                "sample_collection_date": "",
                "location": "",
                "originating_lab": "",
                "submission_date": "",
                "submitting_lab": "",
                "create_time": "",
                "last_update_time": ""
            }
        ]
    }
}
```

2. 添加基因信息

> ==POST== {domain}/gene

|参数|类型|必须/可选|默认|描述|
|-|-|-|-|-|
|Time|int|==必须==|无|时间戳 header.Time|
|token|string|==必须==|无|用户确认 header.X-Authorization|
|data|array|==必须==|无|数据|

请求体：
```json {.line-numbers}
"data": [
    {
        "gene_id": "",
        "virus_strain_name": "",
        "accession_id": "",
        "data_source": "",
        "related_id": "",
        "lineage": "",
        "nuc_completeness": "",
        "sequence_length": "",
        "sequence_quality": "",
        "quality_assessment": "",
        "host": "",
        "sample_collection_date": "",
        "location": "",
        "originating_lab": "",
        "submission_date": "",
        "submitting_lab": "",
        "create_time": "",
        "last_update_time": ""
    }
]
```

返回：
```json {.line-numbers}
{
    "code": 200,
    "msg": "成功添加*条数据！",
    "data": [
        {
            "gene_id": "",
            "virus_strain_name": "",
            "accession_id": "",
            "data_source": "",
            "related_id": "",
            "lineage": "",
            "nuc_completeness": "",
            "sequence_length": "",
            "sequence_quality": "",
            "quality_assessment": "",
            "host": "",
            "sample_collection_date": "",
            "location": "",
            "originating_lab": "",
            "submission_date": "",
            "submitting_lab": "",
            "create_time": "",
            "last_update_time": "",
            "err": ""
        }
    ],
    "count": 10
}
```


3. 更新(修改)基因信息

> ==PUT== {domain}/gene/:gene_id

|参数|类型|必须/可选|默认|描述|
|-|-|-|-|-|
|Time|int|==必须==|无|时间戳 header.Time|
|token|string|==必须==|无|用户确认 header.X-Authorization|
|data|array|==必须==|无|只填写需更新部分及其id|

请求体：
```json {.line-numbers}
"data": {
    "gene_id": "",
    "virus_strain_name": "",
    "accession_id": "",
    "data_source": "",
    "related_id": "",
    "lineage": "",
    "nuc_completeness": "",
    "sequence_length": "",
    "sequence_quality": "",
    "quality_assessment": "",
    "host": "",
    "sample_collection_date": "",
    "location": "",
    "originating_lab": "",
    "submission_date": "",
    "submitting_lab": "",
    "create_time": "",
    "last_update_time": ""
}
```

返回：
```json {.line-numbers}
{
    "code": 200,
    "msg": "修改成功！"
}
```

4. 删除基因信息

> ==DELETE== {domain}/gene/:gene_id

|参数|类型|必须/可选|默认|描述|
|-|-|-|-|-|
|Time|int|==必须==|无|时间戳 header.Time|
|token|string|==必须==|无|用户确认 header.X-Authorization|

```json {.line-numbers}
{
    "code": 200,
    "msg": "删除成功！"
}
```

5. 条目集合查询

> ==GET== {domain}/gene/summary

|参数|类型|必须/可选|默认|描述|
|-|-|-|-|-|
|Time|int|==必须==|无|时间戳 header.Time|

```json {.line-numbers}
{
    "code": 200,
    "msg": "查询成功！",
    "data": {
        "data_source": [],
        "lineage": [],
        "nuc_completeness": [],
        "sequence_quality": [],
        "host": [],
        "location": []
    }
}
```

5. 条目数量查询

> ==GET== {domain}/gene/summary

|参数|类型|必须/可选|默认|描述|
|-|-|-|-|-|
|Time|int|==必须==|无|时间戳 header.Time|

```json {.line-numbers}
{
    "code": 200,
    "msg": "查询成功！",
    "data": {
        "city": 130,
        "lineage": 218,
        "nuc_completeness_percent": "92%",
        "items": 9588
    }
}
```